use http::header::{HeaderMap, HeaderName, HeaderValue};

fn main() {
    // map must be non-empty
    let mut map = HeaderMap::new();
    map.insert(HeaderName::from_static("x"), HeaderValue::from_static("y"));

    let huge = (1usize << (usize::BITS - 1)) + 1;
    println!("reserving {}", huge);
    map.reserve(huge);          
    println!("done");           // never reached
}
