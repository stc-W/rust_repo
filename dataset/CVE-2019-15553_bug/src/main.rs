// Cargo.toml dependencies:
// [dependencies]
// memoffset = "0.4.0"

#[macro_use]
extern crate memoffset;

use std::mem;

struct Foo {
    foo: i32,
}

fn main() {
    // The `offset_of!` macro is used to calculate the offset of a field within a struct.
    // This triggers undefined behavior because it creates dangling references.

    let foo_offset = unsafe { offset_of!(Foo, foo) };
    
    println!("foo: {}", foo_offset);
}
